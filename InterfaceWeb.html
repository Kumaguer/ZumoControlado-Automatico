const char* paginaHTML = R"rawliteral(
<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Control de Carro</title>
  <style>
    body { font-family: sans-serif; text-align: center; margin-top: 40px; }
    button { padding: 10px 20px; margin: 10px; font-size: 18px; }
  </style>
</head>
<body>
  <h2>Selecciona el modo de operaci√≥n:</h2>
  <button onclick="location.href='/cambiarModo?modo=sumo'">Modo Sumo</button>
  <button onclick="location.href='/cambiarModo?modo=dirigido'">Modo Dirigido</button>
  <p id="estado">Modo actual: Cargando...</p>

  <script>
    let modo = "";
    fetch('/estado').then(r => r.text()).then(t => {
      document.getElementById('estado').innerText = 'Modo actual: ' + t;
      modo = t;
    });

    document.addEventListener('keydown', (e) => {
      if (modo !== 'DIRIGIDO') return;
      let accion = "";
      if (e.key === 'w') accion = "avanzar";
      if (e.key === 's') accion = "retroceder";
      if (e.key === 'd') accion = "izquierda";
      if (e.key === 'a') accion = "derecha";
      if (accion !== "") fetch('/mover?accion=' + accion);
    });

    document.addEventListener('keyup', (e) => {
      if (modo === 'DIRIGIDO') {
        fetch('/mover?accion=detener');
      }
    });
  </script>
</body>
</html>
)rawliteral";